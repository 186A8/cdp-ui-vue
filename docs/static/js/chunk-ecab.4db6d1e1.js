(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-ecab"],{MSNs:function(t,e,a){"use strict";a.d(e,"a",function(){return n});var i=a("t3Un");function n(){return Object(i.a)({url:"/qiniu/upload/token",method:"get"})}},Vf32:function(t,e,a){"use strict";var i=a("l1nw");a.n(i).a},l1nw:function(t,e,a){},qWlo:function(t,e,a){"use strict";a.r(e);var i=a("4d7F"),n=a.n(i),s=a("MSNs"),l={name:"SingleImageUpload2",props:{value:{type:String,default:""}},data:function(){return{tempUrl:"",dataObj:{token:"",key:""}}},computed:{imageUrl:function(){return this.value}},methods:{rmImage:function(){this.emitInput("")},emitInput:function(t){this.$emit("input",t)},handleImageSuccess:function(){this.emitInput(this.tempUrl)},beforeUpload:function(){var t=this,e=this;return new n.a(function(a,i){Object(s.a)().then(function(i){var n=i.data.qiniu_key,s=i.data.qiniu_token;e._data.dataObj.token=s,e._data.dataObj.key=n,t.tempUrl=i.data.qiniu_url,a(!0)}).catch(function(){i(!1)})})}}},r=(a("Vf32"),a("KHd+")),o=Object(r.a)(l,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"singleImageUpload2 upload-container"},[a("el-upload",{staticClass:"image-uploader",attrs:{data:t.dataObj,multiple:!1,"show-file-list":!1,"on-success":t.handleImageSuccess,drag:"",action:"https://httpbin.org/post"}},[a("i",{staticClass:"el-icon-upload"}),t._v(" "),a("div",{staticClass:"el-upload__text"},[t._v("Drag或"),a("em",[t._v("点击上传")])])]),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.imageUrl.length>0,expression:"imageUrl.length>0"}],staticClass:"image-preview"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.imageUrl.length>1,expression:"imageUrl.length>1"}],staticClass:"image-preview-wrapper"},[a("img",{attrs:{src:t.imageUrl}}),t._v(" "),a("div",{staticClass:"image-preview-action"},[a("i",{staticClass:"el-icon-delete",on:{click:t.rmImage}})])])])],1)},[],!1,null,"89f099a8",null);o.options.__file="singleImage2.vue";e.default=o.exports}}]);