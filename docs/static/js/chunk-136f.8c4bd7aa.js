(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-136f"],{MSNs:function(t,e,a){"use strict";a.d(e,"a",function(){return n});var i=a("t3Un");function n(){return Object(i.a)({url:"/qiniu/upload/token",method:"get"})}},Mutr:function(t,e,a){"use strict";var i=a("W8++");a.n(i).a},"W8++":function(t,e,a){},y0oO:function(t,e,a){"use strict";a.r(e);var i=a("4d7F"),n=a.n(i),s=a("MSNs"),u={name:"SingleImageUpload",props:{value:{type:String,default:""}},data:function(){return{tempUrl:"",dataObj:{token:"",key:""}}},computed:{imageUrl:function(){return this.value}},methods:{rmImage:function(){this.emitInput("")},emitInput:function(t){this.$emit("input",t)},handleImageSuccess:function(){this.emitInput(this.tempUrl)},beforeUpload:function(){var t=this,e=this;return new n.a(function(a,i){Object(s.a)().then(function(i){var n=i.data.qiniu_key,s=i.data.qiniu_token;e._data.dataObj.token=s,e._data.dataObj.key=n,t.tempUrl=i.data.qiniu_url,a(!0)}).catch(function(t){console.log(t),i(!1)})})}}},o=(a("Mutr"),a("KHd+")),l=Object(o.a)(u,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"upload-container"},[a("el-upload",{staticClass:"image-uploader",attrs:{data:t.dataObj,multiple:!1,"show-file-list":!1,"on-success":t.handleImageSuccess,drag:"",action:"https://httpbin.org/post"}},[a("i",{staticClass:"el-icon-upload"}),t._v(" "),a("div",{staticClass:"el-upload__text"},[t._v("将文件拖到此处，或"),a("em",[t._v("点击上传")])])]),t._v(" "),a("div",{staticClass:"image-preview"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.imageUrl.length>1,expression:"imageUrl.length>1"}],staticClass:"image-preview-wrapper"},[a("img",{attrs:{src:t.imageUrl+"?imageView2/1/w/200/h/200"}}),t._v(" "),a("div",{staticClass:"image-preview-action"},[a("i",{staticClass:"el-icon-delete",on:{click:t.rmImage}})])])])],1)},[],!1,null,"f42b9d76",null);l.options.__file="singleImage.vue";e.default=l.exports}}]);