(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-0df8"],{P9Kg:function(i,t,e){"use strict";e.r(t);var s=e("4d7F"),l=e.n(s),n=e("GQeE"),o=e.n(n),a={name:"EditorSlideUpload",props:{color:{type:String,default:"#1890ff"}},data:function(){return{dialogVisible:!1,listObj:{},fileList:[]}},methods:{checkAllSuccess:function(){var i=this;return o()(this.listObj).every(function(t){return i.listObj[t].hasSuccess})},handleSubmit:function(){var i=this,t=o()(this.listObj).map(function(t){return i.listObj[t]});this.checkAllSuccess()?(this.$emit("successCBK",t),this.listObj={},this.fileList=[],this.dialogVisible=!1):this.$message("请等待所有图片上传成功 或 出现了网络问题，请刷新页面重新上传！")},handleSuccess:function(i,t){for(var e=t.uid,s=o()(this.listObj),l=0,n=s.length;l<n;l++)if(this.listObj[s[l]].uid===e)return this.listObj[s[l]].url=i.files.file,void(this.listObj[s[l]].hasSuccess=!0)},handleRemove:function(i){for(var t=i.uid,e=o()(this.listObj),s=0,l=e.length;s<l;s++)if(this.listObj[e[s]].uid===t)return void delete this.listObj[e[s]]},beforeUpload:function(i){var t=this,e=window.URL||window.webkitURL,s=i.uid;return this.listObj[s]={},new l.a(function(l,n){var o=new Image;o.src=e.createObjectURL(i),o.onload=function(){t.listObj[s]={hasSuccess:!1,uid:i.uid,width:this.width,height:this.height}},l(!0)})}}},c=(e("QeyH"),e("KHd+")),r=Object(c.a)(a,function(){var i=this,t=i.$createElement,e=i._self._c||t;return e("div",{staticClass:"upload-container"},[e("el-button",{style:{background:i.color,borderColor:i.color},attrs:{icon:"el-icon-upload",size:"mini",type:"primary"},on:{click:function(t){i.dialogVisible=!0}}},[i._v("上传图片\n  ")]),i._v(" "),e("el-dialog",{attrs:{visible:i.dialogVisible},on:{"update:visible":function(t){i.dialogVisible=t}}},[e("el-upload",{staticClass:"editor-slide-upload",attrs:{multiple:!0,"file-list":i.fileList,"show-file-list":!0,"on-remove":i.handleRemove,"on-success":i.handleSuccess,"before-upload":i.beforeUpload,action:"https://httpbin.org/post","list-type":"picture-card"}},[e("el-button",{attrs:{size:"small",type:"primary"}},[i._v("点击上传")])],1),i._v(" "),e("el-button",{on:{click:function(t){i.dialogVisible=!1}}},[i._v("取 消")]),i._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:i.handleSubmit}},[i._v("确 定")])],1)],1)},[],!1,null,"42cdae20",null);r.options.__file="editorImage.vue";t.default=r.exports},QeyH:function(i,t,e){"use strict";var s=e("T+Vt");e.n(s).a},"T+Vt":function(i,t,e){}}]);